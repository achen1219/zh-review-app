<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>æ¯æ—¥è¤‡ç¿’ï¼š2025/05/07</title>
  <style>
    body { font-family: 'Microsoft JhengHei', sans-serif; padding: 20px; }
    h1, h2 { color: #333; }
    .flashcard { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; border-radius: 5px; }
    .flashcard h2 { display: inline-block; margin: 0; }
    .flashcard button { margin-left: 10px; }
    #game1 .item { margin-bottom: 10px; }
    .char { display: inline-block; width: 50px; font-size: 24px; }
    select { font-size: 16px; padding: 4px; }
    #points { font-size: 18px; margin-top: 20px; }
    button { padding: 6px 12px; font-size: 14px; }
    #result { margin-top: 10px; font-weight: bold; }
  </style>
</head>
<body>
  <h1>ğŸ“… æ¯æ—¥è¤‡ç¿’ï¼š2025/05/07</h1>

  <h2>ğŸ”– ç”Ÿå­—å¡ç‰‡</h2>
  <div id="flashcards"></div>

  <h2>ğŸ® éŠæˆ²1ï¼šå­—ç¾©é…å°</h2>
  <div id="points">ç©åˆ†: 0</div>
  <div id="game1"></div>
  <button id="submitBtn" onclick="checkAnswers()">æäº¤</button>
  <div id="result"></div>

  <script>
    // === è³‡æ–™ ===
    const newChars = [
      { char: 'è…°', answer: 'èº«é«”ä¸­é–“çš„éƒ¨ä½' },
      { char: 'è“‹', answer: 'é‹çš„è“‹å­' }
    ];
    const reviewChars = ['åˆ','å¤','çœ','æ¡','åŒ…','é¡','è³‡','å½±','æ•¦','çˆ¾','æ‚Ÿ','æ‹†'];

    // === ç”Ÿå­—å¡ç‰‡ ===
    const flashDiv = document.getElementById('flashcards');
    function createFlashcard(ch) {
      const div = document.createElement('div');
      div.className = 'flashcard';
      div.innerHTML = `<h2>${ch}</h2>
                       <button onclick="playChar('${ch}')">ğŸ”Š ç™¼éŸ³</button>`;
      flashDiv.appendChild(div);
    }
    newChars.forEach(item => createFlashcard(item.char));
    reviewChars.forEach(ch => createFlashcard(ch));

    // === èªéŸ³æ’­æ”¾ ===
    function playChar(ch) {
      const u = new SpeechSynthesisUtterance(ch);
      u.lang = 'zh-TW';
      speechSynthesis.speak(u);
    }

    // === å­—ç¾©é…å°éŠæˆ² ===
    const gameDiv = document.getElementById('game1');
    newChars.forEach(item => {
      const div = document.createElement('div');
      div.className = 'item';
      div.innerHTML = `<span class="char">${item.char}</span>
                       <select data-answer="${item.answer}">
                         <option value="">-- é¸æ“‡ --</option>
                         <option>èº«é«”ä¸­é–“çš„éƒ¨ä½</option>
                         <option>é‹çš„è“‹å­</option>
                       </select>`;
      gameDiv.appendChild(div);
    });

    // === åˆ†æ•¸ç³»çµ±ï¼ˆå« LocalStorageï¼‰ ===
    let points = Number(localStorage.getItem('zhReviewPoints') || 0);
    const pointsDisplay = document.getElementById('points');
    function updatePointsUI() {
      pointsDisplay.textContent = 'ç©åˆ†: ' + points;
    }
    function savePoints() {
      localStorage.setItem('zhReviewPoints', points);
    }
    function checkAnswers() {
      const selects = document.querySelectorAll('#game1 select');
      let correct = 0;
      selects.forEach(sel => {
        if (sel.value === sel.getAttribute('data-answer')) correct++;
        sel.disabled = true;
      });
      const earned = correct * 5;
      points += earned;
      savePoints();
      updatePointsUI();
      document.getElementById('submitBtn').disabled = true;
      document.getElementById('result').textContent =
        correct === selects.length
          ? `ğŸ‘ å…¨éƒ¨ç­”å°äº†ï¼ +${earned} åˆ†`
          : `âŒ ç­”å° ${correct}/${selects.length} é¡Œï¼Œç²å¾— ${earned} åˆ†`;
    }

    // åˆå§‹åŒ–
    updatePointsUI();
  </script>
</body>
</html>
